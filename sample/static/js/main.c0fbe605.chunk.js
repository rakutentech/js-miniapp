(this["webpackJsonpjs-miniapp-sample"]=this["webpackJsonpjs-miniapp-sample"]||[]).push([[0],{144:function(e,t,n){e.exports=n(178)},149:function(e,t,n){},174:function(e,t,n){e.exports=n.p+"static/media/road.7a89d3ee.gif"},175:function(e,t,n){e.exports=n.p+"static/media/road_infinite.c6606fc4.gif"},176:function(e,t,n){e.exports=n.p+"static/media/road_webp.825bfa3b.gif"},177:function(e,t){},178:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(13),i=n.n(o),c=(n(149),n(214)),s=n(253),l=n(24),u=n(15),m=n(8),d=n(17),p=n(217),f=n(252),E=n(3),h=n(61),g=n(46),b=n(9),v=n(224),C=n(226),y=n(225),S=n(38),O=n(109),w=n.n(O),N=n(110),T=n.n(N),P=n(257),j=n(256),k=n(223),L=n(219),I=n(181),_=n(221),x=n(222),A=n(255),U=n(108),R=n.n(U),D=n(107),F=n.n(D),W=Object(c.a)((function(e){return{drawer:{},drawerPaper:Object(u.a)({},e.breakpoints.up("sm"),{height:"calc(100% - 64px)",top:"64px !important"}),drawerPaperContent:{height:"100%",width:250,display:"flex",flexDirection:"column",justifyContent:"space-between"},drawerPaperContentTopList:Object(u.a)({height:"calc(100% - 70px)",overflowY:"scroll"},e.breakpoints.down("xs"),{height:"100%"}),drawerPaperShrink:{width:"70px",overflowX:"hidden"},shrinkedListItem:{paddingLeft:"24px"},NavListRoot:{paddingTop:1},tooltip:{backgroundColor:e.color.primary},tooltipArrow:{color:e.color.primary},navLink:{height:56},activeNavLink:{backgroundColor:e.color.primary,color:"white","& .icon":{color:"white"}}}})),M=Object(l.b)(null,(function(e){return{changeTitle:function(t){return e(function(e){return{type:"SET_CURRENT_PAGE_TITLE",payload:e}}(t))}}}))((function(e){var t=W(),n=Object(d.a)(),a=Object(p.a)(n.breakpoints.down("xs"));a&&(e=Object(b.a)({},e,{shrinked:!1}));return r.a.createElement(A.a,{className:t.drawer,classes:{paper:t.drawerPaper},anchor:"left",variant:a?"temporary":"persistent",open:e.show,onClose:function(t){return e.onOpenClose(t)},onOpen:function(t){return e.onOpenClose(t)}},r.a.createElement("div",{className:Object(E.a)(t.drawerPaperContent,Object(u.a)({},t.drawerPaperShrink,e.shrinked)),role:"presentation"},r.a.createElement(L.a,{className:Object(E.a)(t.drawerPaperContentTopList),classes:{root:t.NavListRoot}},e.show&&e.navItems.map((function(n){return r.a.createElement(P.a,{key:n.label,arrow:!0,title:e.shrinked?n.label:"",placement:"right",enterDelay:100,classes:{tooltip:t.tooltip,arrow:t.tooltipArrow}},r.a.createElement(I.a,{button:!0,onClick:function(){e.changeTitle(n.label),a&&e.onOpenClose(void 0)},component:h.b,to:n.navLink,key:n.label,activeClassName:t.activeNavLink,className:Object(E.a)(t.navLink,Object(u.a)({},t.shrinkedListItem,e.shrinked))},r.a.createElement(_.a,{className:"icon"},n.icon),r.a.createElement(x.a,{primary:e.shrinked?"  ":n.label})))}))),r.a.createElement(j.a,{only:["xs"]},r.a.createElement(L.a,null,r.a.createElement(k.a,null),r.a.createElement(P.a,{arrow:!0,title:e.shrinked?"Expand":"",placement:"right",enterDelay:1e3,classes:{tooltip:t.tooltip,arrow:t.tooltipArrow}},r.a.createElement(I.a,{button:!0,onClick:function(){e.onShrink()},className:Object(E.a)(Object(u.a)({},t.shrinkedListItem,e.shrinked))},r.a.createElement(_.a,null,e.shrinked?r.a.createElement(F.a,null):r.a.createElement(R.a,null)),r.a.createElement(x.a,{primary:e.shrinked?"Expand":"Shrink"})))))))})),B=Object(c.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{}}})),H=Object(l.b)((function(e,t){return Object(b.a)({},t,{title:e.home.title})}))(Object(g.f)((function(e){var t,n=B(),o=Object(a.useState)(null!==(t=e.showDrawer)&&void 0!==t&&t),i=Object(m.a)(o,2),c=i[0],s=i[1];Object(a.useEffect)((function(){s(e.showDrawer)}),[e.showDrawer]);var l=Object(a.useState)(!1),u=Object(m.a)(l,2),d=u[0],p=u[1],f=function(){var t=!c;e.onDrawerToggle(t),s(t)};return r.a.createElement(a.Fragment,null,r.a.createElement(v.a,{position:"sticky"},r.a.createElement(y.a,null,r.a.createElement(C.a,{edge:"start",className:n.menuButton,color:"inherit","aria-label":"menu",onClick:f,"data-testid":"drawer-toggle-button"},c?r.a.createElement(w.a,{"data-testid":"close-icon"}):r.a.createElement(T.a,{"data-testid":"menu-icon"})),r.a.createElement(S.a,{variant:"h6",className:n.title},e.title),r.a.createElement("div",{className:"actions"},e.actions))),r.a.createElement(M,{show:c,shrinked:d,onOpenClose:function(e){(!e||"keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&f()},onShrink:function(){var t=!d;e.onShrinkToggle(t),p(t)},navItems:e.navItems}))}))),q=n(128),z=n.n(q),G=n(121),K=n.n(G),Q=n(117),J=n.n(Q),V=n(129),Y=n.n(V),X=n(115),$=n.n(X),Z=n(123),ee=n.n(Z),te=n(124),ne=n.n(te),ae=n(127),re=n.n(ae),oe=n(118),ie=n.n(oe),ce=n(122),se=n.n(ce),le=n(125),ue=n.n(le),me=n(120),de=n.n(me),pe=n(126),fe=n.n(pe),Ee=n(116),he=n.n(Ee),ge=n(119),be=n.n(ge),ve=n(7),Ce=n.n(ve),ye=n(228),Se=n(229),Oe=n(258),we=n(233),Ne=n(234),Te=n(84),Pe=n(227),je=Object(c.a)((function(e){return{root:{background:e.color.secondary,height:function(e){return e.height||300},maxWidth:500,width:"95%"}}})),ke=function(e){var t=je(e);return a.createElement(Pe.a,{className:"".concat(t.root," ").concat(e.className||"")},e.children)},Le=Object(c.a)((function(e){return{scrollable:{overflowY:"auto",width:"100%",paddingTop:20,paddingBottom:20},content:{height:"auto",justifyContent:"center",display:"flex",flexDirection:"column",alignItems:"center",fontSize:18,color:e.color.primary,fontWeight:"bold"},paper:{width:"80%",paddingBottom:10,marginBottom:20,"&:first-child":{marginTop:20}},actions:{justifyContent:"center"},error:{marginTop:10},textfield:{backgroundColor:"#ffffff",width:"100%"}}})),Ie={isLoading:!1,error:null},_e=function(e,t){switch(t.type){case"LOADING":return Object(b.a)({},e,{isLoading:!0,error:null});case"SUCCESS":return Object(b.a)({},e,{isLoading:!1,error:null,reward:t.rewardItem});case"FAILURE":return Object(b.a)({},Ie,{isLoading:!1,error:t.error});default:throw Error("Unknown action type")}};var xe=function(){var e=Object(a.useReducer)(_e,Ie),t=Object(m.a)(e,2),n=t[0],o=t[1],i=Object(a.useReducer)(_e,Ie),c=Object(m.a)(i,2),s=c[0],l=c[1],u=Object(a.useState)("ca-app-pub-3940256099942544/1033173712"),d=Object(m.a)(u,2),p=d[0],f=d[1],E=Object(a.useState)("ca-app-pub-3940256099942544/5224354917"),h=Object(m.a)(E,2),g=h[0],b=h[1],v=Le(),C=function(e){console.log(e),o({type:"SUCCESS"})},y=function(e){o({type:"FAILURE",error:e}),console.error(e)},O=function(e){l({type:"FAILURE",error:e}),console.error(e)},w=function(){return r.a.createElement(ye.a,{className:v.content},r.a.createElement(Se.a,{size:20,className:v.buttonProgress}))},N=function(e){return r.a.createElement(ye.a,{className:v.content},r.a.createElement(S.a,{className:v.error},"Error: ",e))},T=function(e){var t=e.label,n=e.value,a=e.onChange;return r.a.createElement(ye.a,{className:v.content},r.a.createElement(Oe.a,{type:"text",label:t,className:v.textfield,value:n,onChange:function(e){return a.call(e.currentTarget.value)},variant:"outlined",color:"primary",inputProps:{"data-testid":"input-field"}}))},P=function(e){var t=e.text,n=e.disabled,a=e.onClick;return r.a.createElement(we.a,{className:v.actions},r.a.createElement(Ne.a,{color:"primary",className:v.button,onClick:a,disabled:n,variant:"contained"},t))};return r.a.createElement("div",{class:v.scrollable},r.a.createElement(ke,{className:v.content},r.a.createElement(Te.a,{className:v.paper},n.isLoading&&w(),n.error&&N(n.error),T({label:"Interstitial Ad Id",value:p,onChange:f}),P({text:"Load Interstitial",disabled:n.isLoading,onClick:function(){o({type:"LOADING"}),Ce.a.loadInterstitialAd(p).then(C).catch(y)}}),P({text:"Show Interstitial",disabled:n.isLoading,onClick:function(){o({type:"LOADING"}),Ce.a.showInterstitialAd(p).then(C).catch(y)}})),r.a.createElement(Te.a,{className:v.paper},s.isLoading&&w(),s.error&&N(s.error),!s.error&&!s.isLoading&&null!=s.reward&&r.a.createElement(ye.a,{className:v.content},r.a.createElement(S.a,null,"Rewarded point: ",s.reward.amount)),T({label:"Rewarded Ad Id",value:g,onChange:b}),P({text:"Load Reward",disabled:s.isLoading,onClick:function(){l({type:"LOADING"}),Ce.a.loadRewardedAd(g).then((function(e){console.log(e),l({type:"SUCCESS"})})).catch(O)}}),P({text:"Show Reward",disabled:s.isLoading,onClick:function(){l({type:"LOADING"}),Ce.a.showRewardedAd(g).then((function(e){l({type:"SUCCESS",rewardItem:e})})).catch(O)}}))))},Ae=n(235),Ue=n(232),Re=n(76),De=n(75),Fe=(n(111),function(e){return function(t){return Ce.a.requestCustomPermissions(e).then((function(e){return t({type:"REQUEST_PERMISSIONS_SUCCESS",permissions:e}),e})).catch((function(e){t({type:"REQUEST_PERMISSIONS_FAILURE"})}))}}),We=Object(c.a)((function(e){return{wrapper:{position:"relative",marginTop:20},buttonSuccess:{backgroundColor:Re.a[500],"&:hover":{backgroundColor:Re.a[700]}},buttonFailure:{backgroundColor:De.a[500],"&:hover":{backgroundColor:De.a[700]}},buttonProgress:{position:"absolute",top:"calc(50% - 10px)",left:"calc(50% - 10px)"},error:{color:De.a[500],marginTop:20},success:{color:Re.a[500],marginTop:20,textAlign:"center",wordBreak:"break-all"},rootFormGroup:{alignItems:"center"},red:{color:De.a[500]}}})),Me={isLoading:!1,isError:!1,hasRequestedPermissions:!1},Be=function(e,t){switch(t.type){case"FETCH_INIT":return Object(b.a)({},e,{isLoading:!0,isError:!1,hasRequestedPermissions:!1});case"FETCH_SUCCESS":return Object(b.a)({},e,{isLoading:!1,isError:!1,hasRequestedPermissions:!0});case"FETCH_FAILURE":return Object(b.a)({},e,{isLoading:!1,isError:!0});default:throw new Error}};var He=Object(l.b)((function(e){return{permissions:e.permissions,accessToken:e.user.accessToken}}),(function(e){return{getAccessToken:function(t,n){return e(function(e,t){return function(n){return Ce.a.user.getAccessToken(e,t).then((function(e){return n({type:"REQUEST_ACCESS_TOKEN_SUCCESS",token:e}),Promise.resolve(e)})).catch((function(e){throw n({type:"REQUEST_ACCESS_TOKEN_FAILURE"}),e}))}}(t,n))},requestPermissions:function(t){return e(Fe(t))}}}))((function(e){var t,n=Object(a.useReducer)(Be,Me),o=Object(m.a)(n,2),i=o[0],c=o[1],s=We(),l=Object(a.useState)({audience:"rae",scopes:["idinfo_read_openid","memberinfo_read_point"]}),d=Object(m.a)(l,2),p=d[0],f=d[1],h=Object(E.a)((t={},Object(u.a)(t,s.buttonFailure,i.isError),Object(u.a)(t,s.buttonSuccess,!i.isError),t));function g(t,n){return(n=n||e.permissions||[]).indexOf(t)>-1}function v(t){i.isLoading||(t.preventDefault(),c({type:"FETCH_INIT"}),function(){var t=[{name:ve.CustomPermissionName.ACCESS_TOKEN,description:"We would like to get the Access token details to share with this Mini app"}];e.requestPermissions(t).then((function(e){return e.filter((function(e){return e.status===ve.CustomPermissionStatus.ALLOWED})).map((function(e){return e.name}))})).then((function(t){return Promise.all([g(ve.CustomPermissionName.ACCESS_TOKEN,t)?e.getAccessToken(p.audience,p.scopes):null])})).then((function(){return c({type:"FETCH_SUCCESS"})})).catch((function(e){console.error(e),c({type:"FETCH_FAILURE"})}))}())}return r.a.createElement(ke,{height:"auto"},r.a.createElement(ye.a,null,r.a.createElement(Ae.a,{column:"true",classes:{root:s.rootFormGroup}},r.a.createElement(a.Fragment,null,r.a.createElement(Ue.a,{className:s.formControl},r.a.createElement(Oe.a,{id:"audience",label:"Audience",className:s.fields,onChange:function(e){f(Object(b.a)({},p,{audience:e.target.value}))},value:p.audience})),r.a.createElement(Ue.a,{className:s.formControl},r.a.createElement(Oe.a,{id:"scopes",label:"Scopes",className:s.fields,onChange:function(e){f(Object(b.a)({},p,{scopes:e.target.value.split(", ")}))},value:p.scopes.join(", ")}))),r.a.createElement("div",{className:s.wrapper},r.a.createElement(Ne.a,{onClick:v,variant:"contained",color:"primary",className:h,disabled:i.isLoading,"data-testid":"authButton"},"Authentication"),i.isLoading&&r.a.createElement(Se.a,{size:20,className:s.buttonProgress})),!i.isLoading&&!i.isError&&e.accessToken&&r.a.createElement(S.a,{variant:"body1",className:s.success},"Token: ",e.accessToken.token),!i.isLoading&&!i.isError&&e.accessToken&&r.a.createElement(S.a,{variant:"body1",className:s.success},"Valid until: ",e.accessToken.validUntil.toLocaleDateString("ja-JP")),!i.isLoading&&i.isError&&r.a.createElement(S.a,{variant:"body1",className:s.red},"Acces token permission scopes error"),r.a.createElement("div",null,i.hasRequestedPermissions&&!g(ve.CustomPermissionName.ACCESS_TOKEN)?r.a.createElement(x.a,{primary:"Access Token permission is denied by the user.",className:s.red}):null))))})),qe=n(260),ze=n(254),Ge=n(236),Ke=n(237),Qe=n(238),Je=n(239),Ve=n(240),Ye=n(241),Xe=Object(c.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:"100%"},fields:{color:e.color.primary,"& div":{color:e.color.primary}},actions:{justifyContent:"center"},errorMessage:{fontSize:12,color:"indianred"}}})),$e=Object(l.b)((function(e,t){return Object(b.a)({},t,{messageTypes:e.message.messageTypes})}),(function(e){return{getBots:function(){return e({type:"GET_MESSAGE_TYPE",payload:[{id:1,name:"Send a message to a single contact"}]})},sendMessageToContact:function(t,n,a,r,o){return e(function(e,t,n,a,r){return function(o){var i={text:t,image:e,caption:n,title:a,action:r};return Ce.a.chatService.sendMessageToContact(i)}}(t,n,a,r,o))}}}))((function(e){var t=Xe(),n=e.messageTypes,o=Object(a.useState)({id:void 0!==n[0]?n[0].id:-1,image:"",text:"",caption:"",action:"",title:""}),i=Object(m.a)(o,2),c=i[0],s=i[1],l=Object(a.useState)({error:!1,message:""}),u=Object(m.a)(l,2),d=u[0],p=u[1],f=Object(a.useState)({show:!1,response:""}),E=Object(m.a)(f,2),h=E[0],g=E[1],v=function(){g({show:!1,response:""})};return r.a.createElement(a.Fragment,null,r.a.createElement(Ue.a,{className:t.formControl},r.a.createElement(qe.a,{id:"chatbotLabel"},"Send Message Type"),r.a.createElement(ze.a,{labelId:"chatbotLabel",id:"message",placeholder:"Select Chatbot",value:c.id,className:t.fields,onChange:function(e){s(Object(b.a)({},c,{id:e.target.value}))}},n.map((function(e){return r.a.createElement(Ge.a,{key:e.id,value:e.id},e.name)})))),r.a.createElement(Ue.a,{className:t.formControl},r.a.createElement(Oe.a,{id:"image",label:"Image",className:t.fields,onChange:function(e){s(Object(b.a)({},c,{image:e.target.value}))},placeholder:"Image url or Base64 string",value:c.image})),r.a.createElement(Ue.a,{className:t.formControl},r.a.createElement(Oe.a,{id:"text",label:"Text",className:t.fields,onChange:function(e){s(Object(b.a)({},c,{text:e.target.value}))},value:c.text,multiline:!0})),r.a.createElement(Ue.a,{className:t.formControl},r.a.createElement(Oe.a,{id:"caption",label:"Caption",className:t.fields,onChange:function(e){s(Object(b.a)({},c,{caption:e.target.value}))},value:c.caption})),r.a.createElement(Ue.a,{className:t.formControl},r.a.createElement(Oe.a,{id:"action",label:"Action",className:t.fields,onChange:function(e){s(Object(b.a)({},c,{action:e.target.value}))},value:c.action})),r.a.createElement(Ue.a,{className:t.formControl},r.a.createElement(Oe.a,{id:"title",label:"Title",className:t.fields,onChange:function(e){s(Object(b.a)({},c,{title:e.target.value}))},value:c.title})),d.error&&r.a.createElement("div",{"data-testid":"validation-error",className:t.errorMessage},d.message),r.a.createElement(we.a,{className:t.actions},r.a.createElement(Ne.a,{"data-testid":"send-message",variant:"contained",color:"primary",fullWidth:!0,onClick:function(){var t,a,r,o;(-1===n.map((function(e){return e.id})).findIndex((function(e){return e===c.id}))?(p({error:!0,message:"select message"}),0):void 0===c.text||0===c.text.trim().length?(p({error:!0,message:"text cannot be empty"}),0):(p({error:!1,message:""}),1))&&e.sendMessageToContact(null!==(t=c.image.trim())&&void 0!==t?t:"",c.text.trim(),null!==(a=c.caption.trim())&&void 0!==a?a:"",null!==(r=c.action.trim())&&void 0!==r?r:"",null!==(o=c.title.trim())&&void 0!==o?o:"").then((function(e){return g({show:!0,response:"Message Id: "+e})}))}},"SEND MESSAGE")),r.a.createElement(Ke.a,{"data-testid":"message-response-dialog",open:h.show,onClose:v,"aria-labelledby":"max-width-dialog-title"},r.a.createElement(Qe.a,{id:"max-width-dialog-title"},"Response"),r.a.createElement(Je.a,null,r.a.createElement(Ve.a,null,h.response)),r.a.createElement(Ye.a,null,r.a.createElement(Ne.a,{onClick:v,color:"primary"},"Close"))))})),Ze=n(242),et=n(261),tt=n(112),nt=n.n(tt),at=Object(c.a)((function(e){return{wrapper:{position:"relative",marginTop:20},buttonSuccess:{backgroundColor:Re.a[500],"&:hover":{backgroundColor:Re.a[700]}},buttonFailure:{backgroundColor:De.a[500],"&:hover":{backgroundColor:De.a[700]}},buttonProgress:{position:"absolute",top:"calc(50% - 10px)",left:"calc(50% - 10px)"},error:{color:De.a[500],marginTop:20},success:{color:Re.a[500],marginTop:20,wordBreak:"break-all",textAlign:"center"},rootFormGroup:{alignItems:"center"}}})),rt={isLoading:!1,isError:!1,response:null},ot=function(e,t){switch(t.type){case"FETCH_INIT":return Object(b.a)({},e,{isLoading:!0,isError:!1,response:null});case"FETCH_SUCCESS":return Object(b.a)({},e,{isLoading:!1,isError:!1,response:t.payload});case"FETCH_FAILURE":return Object(b.a)({},e,{isLoading:!1,isError:!0});default:throw new Error}};var it=function(){var e,t=Object(a.useReducer)(ot,rt),n=Object(m.a)(t,2),o=n[0],i=n[1],c=at(),s=Object(E.a)((e={},Object(u.a)(e,c.buttonFailure,o.isError),Object(u.a)(e,c.buttonSuccess,o.response),e)),l=Object(a.useState)(!0),d=Object(m.a)(l,2),p=d[0],f=d[1];function h(e){o.isLoading||(e.preventDefault(),i({type:"FETCH_INIT"}),function(){var e=p?"http://www.mocky.io/v2/5e9406873100006c005e2d00":"http://www.mocky.io/v2/5e9801a93500005000c47d35";nt.a.get(e).then((function(e){i({type:"FETCH_SUCCESS",payload:e.data})})).catch((function(e){i({type:"FETCH_FAILURE"})}))}())}return r.a.createElement(ke,{height:"auto"},r.a.createElement(ye.a,null,r.a.createElement(Ae.a,{column:"true",classes:{root:c.rootFormGroup}},r.a.createElement(S.a,{variant:"body2",align:"center"},"Please note that we use a ",r.a.createElement("strong",null,"mocked API")," in this example (",r.a.createElement("a",{href:"http://www.mocky.io/v2/5e9801a93500005000c47d35"},"Success")," ","&"," ",r.a.createElement("a",{href:"http://www.mocky.io/v2/5e9406873100006c005e2d00"},"Failure"),")"),r.a.createElement(S.a,{component:"div"},r.a.createElement(Ze.a,{component:"label",container:!0,alignItems:"center",spacing:1},r.a.createElement(Ze.a,{item:!0},"Success"),r.a.createElement(Ze.a,{item:!0},r.a.createElement(et.a,{color:"primary",checked:p,onChange:function(){return f(!p)},name:"switchState","data-testid":"authSwitch"})),r.a.createElement(Ze.a,{item:!0},"Failure"))),r.a.createElement("div",{className:c.wrapper},r.a.createElement(Ne.a,{onClick:h,variant:"contained",color:"primary",className:s,disabled:o.isLoading,"data-testid":"authButton"},"Authentication"),o.isLoading&&r.a.createElement(Se.a,{size:20,className:c.buttonProgress})),o.isError&&r.a.createElement(S.a,{variant:"body1",className:c.error},"Error fetching credentials"),o.response&&r.a.createElement(S.a,{variant:"body1",className:c.success},JSON.stringify(o.response)))))},ct=n(243),st=n(244),lt=n(245),ut=n(246),mt=n(247),dt=n(248),pt=Object(c.a)((function(e){return{root:{height:"90%",width:"100%"},table:{minWidth:"80%"},content:{height:"50%",justifyContent:"space-between",display:"flex",flexDirection:"column",alignItems:"center",fontSize:18,color:e.color.primary,fontWeight:"bold"},uploader:{height:"25%"}}})),ft=function(){var e=pt(),t=Object(a.useState)([]),n=Object(m.a)(t,2),o=n[0],i=n[1];return r.a.createElement(Pe.a,{className:e.root},r.a.createElement(ye.a,{className:(e.content,e.uploader)},r.a.createElement("input",{type:"file",onChange:function(e){var t=e.target.files;t&&i(Array.from(t).map((function(e){return{name:e.name,size:e.size,type:e.type}})))},"data-testid":"file-input",multiple:!0})),r.a.createElement(ye.a,{className:e.content},r.a.createElement(ct.a,{component:Te.a,"data-testid":"file-table"},r.a.createElement(st.a,{className:e.table,"aria-label":"simple table"},r.a.createElement(lt.a,null,r.a.createElement(ut.a,null,r.a.createElement(mt.a,null,"Name"),r.a.createElement(mt.a,{align:"left"},"Type"),r.a.createElement(mt.a,{align:"right"},"Size(KB)"),r.a.createElement(mt.a,{align:"right"}))),r.a.createElement(dt.a,null,o.map((function(e){return r.a.createElement(ut.a,{key:e.name},r.a.createElement(mt.a,{component:"th",scope:"row"},e.name),r.a.createElement(mt.a,{align:"left"},e.type),r.a.createElement(mt.a,{align:"right"},e.size.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")))})))))))},Et=n(249),ht=Object(c.a)((function(e){return{grid:{position:"relative",top:"28%",paddingBottom:15},greyCard:{marginTop:"1rem"},typography:{marginTop:"1rem"}}}));var gt=function(){var e=ht(),t=[{label:"Loop Count: Once",iconSrc:n(174),altLabel:"road"},{label:"Loop Count: Infinite",iconSrc:n(175),altLabel:"infinite_road"},{label:"Loop Count: Infinite (WebP)",iconSrc:n(176),altLabel:"infinite_road_webp"}];return r.a.createElement(Ze.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"center",className:e.grid},t.map((function(t,n){return r.a.createElement(r.a.Fragment,{item:!0,key:n},r.a.createElement(ke,{height:"auto",className:"".concat(e.greyCard)},r.a.createElement(S.a,{className:"app-typography ".concat(e.typography)},t.label),r.a.createElement(ye.a,null,r.a.createElement(Et.a,{component:"img",className:e.gif,src:t.iconSrc,alt:t.altLabel}))))})))},bt=Object(c.a)((function(e){return{card:{display:"flex",alignItems:"center",justifyContent:"center"},content:{height:"25%",width:"100%",justifyContent:"center",display:"flex",flexDirection:"column",alignItems:"stretch",fontSize:18,color:e.color.primary,fontWeight:"bold","& p":{lineHeight:1.5}},info:{fontSize:16,lineBreak:"anywhere",wordBreak:"break-all",marginTop:0}}})),vt=function(){var e=bt();return r.a.createElement(ke,{className:e.card},r.a.createElement(ye.a,{className:e.content},r.a.createElement("p",null,"Demo Mini App JS SDK"),r.a.createElement("p",{className:e.info},"Platform: ",Ce.a.getPlatform()),r.a.createElement("p",{className:e.info},"Query Parameters: ",window.location.search||"None"),r.a.createElement("p",{className:e.info},"URL Fragment: ",window.location.hash||"None")))};var Ct=function(e,t){var n=Object(a.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(a){throw a}})),r=Object(m.a)(n,2),o=r[0],i=r[1];return[o,function(t){try{i(t),window.localStorage.setItem(e,JSON.stringify(t))}catch(n){throw n}}]},yt=Object(c.a)((function(e){return{content:{height:"25%",justifyContent:"center",display:"flex",flexDirection:"column",alignItems:"center",fontSize:18,color:e.color.primary,fontWeight:"bold"},actions:{justifyContent:"center",flexDirection:"column"},button:{marginTop:"20px",width:"80%",maxWidth:280},textfield:{width:"80%",maxWidth:300,"& input":{color:e.color.primary,lineHeight:"1.5em",fontSize:"1.2em",background:"white"}}}}));var St=function(){var e=yt(),t=Object(a.useState)(""),n=Object(m.a)(t,2),o=n[0],i=n[1],c=Ct("input-value",""),s=Object(m.a)(c,2),l=s[0],u=s[1];return r.a.createElement(ke,null,r.a.createElement(ye.a,{className:e.content},r.a.createElement(Oe.a,{type:"text",className:e.textfield,value:o,onChange:function(e){e.preventDefault(),i(e.currentTarget.value)},variant:"outlined",color:"primary",inputProps:{"data-testid":"input-field"}})),r.a.createElement(we.a,{className:e.actions},r.a.createElement(Ne.a,{color:"primary",className:e.button,onClick:function(){i(l)},variant:"contained"},"Load text from Local Storage"),r.a.createElement(Ne.a,{color:"primary",className:e.button,onClick:function(){u(o)},variant:"contained"},"Save text to Local Storage")))},Ot=n(82),wt=Object(c.a)((function(e){return{card:{height:"auto"},content:{justifyContent:"center",display:"flex",flexDirection:"column",alignItems:"center",fontSize:18,color:e.color.primary,fontWeight:"bold",paddingBottom:0},actions:{justifyContent:"center",paddingBottom:16}}})),Nt=function(e){var t=e.ref;console.log(t),t.on("fullscreenchange",(function(e){t.isFullscreen()?Ce.a.setScreenOrientation(ve.ScreenOrientation.LOCK_LANDSCAPE).then((function(e){console.log(e)})).catch((function(e){console.error(e)})):Ce.a.setScreenOrientation(ve.ScreenOrientation.LOCK_RELEASE).then((function(e){console.log(e)})).catch((function(e){console.error(e)}))}))},Tt=function(){var e=Object(a.useState)(!1),t=Object(m.a)(e,2),n=t[0],o=t[1],i=wt();return r.a.createElement(ke,{className:i.card},r.a.createElement(ye.a,{className:i.content},"Normal Video"),r.a.createElement(ye.a,{className:i.content},r.a.createElement(Ot.a,{accountId:"1752604059001",videoId:"5819230967001",onSuccess:Nt})),r.a.createElement(ye.a,{className:i.content},"Autoplay Fullscreen Video"),r.a.createElement(we.a,{className:i.actions},r.a.createElement(Ne.a,{variant:"contained",color:"primary",onClick:function(){return o(!n)}},n?"Hide":"Show"," Video")),n&&r.a.createElement(ye.a,{className:i.content},r.a.createElement(Ot.a,{accountId:"1752604059001",videoId:"5819230967001",onSuccess:function(e){Nt(e),e.ref.requestFullscreen()},options:{autoplay:!0}})))},Pt=Object(c.a)((function(e){return{content:{height:"50%",justifyContent:"center",display:"flex",flexDirection:"column",alignItems:"center",fontSize:18,color:e.color.primary,fontWeight:"bold"},actions:{justifyContent:"center"},textfield:{width:"80%",maxWidth:300,background:"white","& input":{color:e.color.primary,lineHeight:"1.5em",fontSize:"1.2em"}}}}));var jt=function(){var e=Pt(),t="This is JS-SDK-Sample.";return r.a.createElement(ke,null,r.a.createElement(ye.a,{className:e.content},r.a.createElement(Oe.a,{type:"text",className:e.textfield,onChange:function(e){e.preventDefault(),t=e.currentTarget.value},placeholder:"Content",defaultValue:"This is JS-SDK-Sample.",variant:"outlined",color:"primary",multiline:"true",rowsMax:"5",inputProps:{"data-testid":"input-field"}})),r.a.createElement(we.a,{className:e.actions},r.a.createElement(Ne.a,{color:"primary",className:e.button,onClick:function(){var e={content:t};Ce.a.shareInfo(e).then((function(e){console.log(e)})).catch((function(e){console.error(e)}))},variant:"contained"},"Share")))},kt=Object(c.a)((function(e){return{actions:{justifyContent:"center",paddingBottom:16},card:{height:"auto"},content:{justifyContent:"center",display:"flex",flexDirection:"column",alignItems:"center",fontSize:18,color:e.color.primary,fontWeight:"bold",paddingBottom:0},textfield:{width:"100%"}}})),Lt=function(){var e=kt(),t=Object(a.useState)("?testSendParam=someValue&test2=test2"),n=Object(m.a)(t,2),o=n[0],i=n[1];return r.a.createElement(ke,{className:e.card},r.a.createElement(ye.a,{className:e.content},"tel: scheme"),r.a.createElement(we.a,{className:e.actions},r.a.createElement(Ne.a,{variant:"contained",color:"primary",href:"tel:+1-123-456-7890"},"+1-123-456-7890")),r.a.createElement(ye.a,{className:e.content},"tel:// scheme"),r.a.createElement(we.a,{className:e.actions},r.a.createElement(Ne.a,{variant:"contained",color:"primary",href:"tel://+1-123-456-7890"},"+1-123-456-7890")),r.a.createElement(ye.a,{className:e.content},"External Webview"),r.a.createElement(ye.a,{className:e.content},r.a.createElement(Oe.a,{className:e.textfield,onChange:function(e){return i(e.currentTarget.value)},value:o,label:"Params to pass",variant:"outlined",color:"primary",inputProps:{"data-testid":"input-field"}})),r.a.createElement(we.a,{className:e.actions},r.a.createElement(Ne.a,{variant:"contained",color:"primary",onClick:function(){if(!o||function(e){return!(!e.startsWith("?")||e.indexOf("=")<=-1)}(o)){var e="".concat(window.location.protocol,"//").concat(window.location.host,"/index.html"),t=o.concat(o?"&":"?").concat("callbackUrl=".concat(encodeURIComponent(e)));window.location.href="https://htmlpreview.github.io/?https://raw.githubusercontent.com/rakutentech/js-miniapp/master/js-miniapp-sample/external-webview/index.html"+t}else window.alert("Invalid params. Please input params in the format ?param1=value1&param2=value2")}},"Open")))},It=n(262),_t=n(250),xt=n(251),At=Object(c.a)((function(e){return{scrollable:{overflowY:"auto",width:"100%",paddingTop:20,paddingBottom:20},card:{width:"100%",height:"auto"},root:{background:e.color.secondary,width:"85vw",maxWidth:500},wrapper:{position:"relative",marginTop:10},buttonSuccess:{backgroundColor:Re.a[500],"&:hover":{backgroundColor:Re.a[700]}},buttonFailure:{backgroundColor:De.a[500],"&:hover":{backgroundColor:De.a[700]}},buttonProgress:{position:"absolute",top:"calc(50% - 10px)",left:"calc(50% - 10px)"},error:{color:De.a[500],marginTop:10},success:{color:Re.a[500],marginTop:20},rootUserGroup:{alignItems:"center"},formInput:{width:"90%",marginTop:10},rootCardActions:{justifyContent:"center"},caseSelector:{marginTop:5},button:{marginBottom:15},dataFormsWrapper:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},paper:{width:"100%",paddingBottom:10,marginBottom:20,"&:last-child":{marginBottom:0}},profilePhoto:{height:100,width:100,marginBottom:20},contactsList:{maxHeight:125,overflow:"auto"},red:{color:De.a[500]}}})),Ut={isLoading:!1,isError:!1,hasRequestedPermissions:!1},Rt=function(e,t){switch(t.type){case"FETCH_INIT":return Object(b.a)({},e,{isLoading:!0,isError:!1,hasRequestedPermissions:!1});case"FETCH_SUCCESS":return Object(b.a)({},e,{isLoading:!1,isError:!1,hasRequestedPermissions:!0});case"FETCH_FAILURE":return Object(b.a)({},Ut,{isLoading:!1,isError:!0});default:throw Error("Unknown action type")}};var Dt=Object(l.b)((function(e){return{permissions:e.permissions,userName:e.user.userName,profilePhoto:e.user.profilePhoto,contactList:e.user.contactList}}),(function(e){return{getUserName:function(){return e((function(e){return Ce.a.user.getUserName().then((function(t){e({type:"REQUEST_USER_NAME_SUCCESS",userName:t})})).catch((function(t){e({type:"REQUEST_USER_NAME_FAILURE"})}))}))},getProfilePhoto:function(){return e((function(e){return Ce.a.user.getProfilePhoto().then((function(t){e({type:"REQUEST_PROFILE_PHOTO_SUCCESS",url:t})})).catch((function(t){e({type:"REQUEST_PROFILE_PHOTO_FAILURE"})}))}))},getContacts:function(){return e((function(e){return Ce.a.user.getContacts().then((function(t){return e({type:"REQUEST_CONTACT_LIST_SUCCESS",contacts:t}),Promise.resolve(t)})).catch((function(t){e({type:"REQUEST_CONTACT_LIST_FAILURE"})}))}))},requestPermissions:function(t){return e(Fe(t))}}}))((function(e){var t,n=Object(a.useReducer)(Rt,Ut),o=Object(m.a)(n,2),i=o[0],c=o[1],s=At(),l=Object(E.a)((t={},Object(u.a)(t,s.buttonFailure,i.isError),Object(u.a)(t,s.buttonSuccess,!i.isError),t));function d(t){i.isLoading||(t.preventDefault(),c({type:"FETCH_INIT"}),function(){var t=[{name:ve.CustomPermissionName.USER_NAME,description:"We would like to display your Username on your profile page."},{name:ve.CustomPermissionName.PROFILE_PHOTO,description:"We would like to display your Profile Photo on your profile page."},{name:ve.CustomPermissionName.CONTACT_LIST,description:"We would like to send messages to your contacts."}];e.requestPermissions(t).then((function(e){return e.filter((function(e){return e.status===ve.CustomPermissionStatus.ALLOWED})).map((function(e){return e.name}))})).then((function(t){return Promise.all([p(ve.CustomPermissionName.USER_NAME,t)?e.getUserName():null,p(ve.CustomPermissionName.PROFILE_PHOTO,t)?e.getProfilePhoto():null,e.getContacts()])})).then((function(){return c({type:"FETCH_SUCCESS"})})).catch((function(e){console.error(e),c({type:"FETCH_FAILURE"})}))}())}function p(t,n){return(n=n||e.permissions||[]).indexOf(t)>-1}return r.a.createElement("div",{className:s.scrollable},r.a.createElement(ke,{className:s.card},r.a.createElement(ye.a,null,r.a.createElement("div",{className:s.dataFormsWrapper,"data-testid":"dataFormsWrapper"},[i.hasRequestedPermissions&&!p(ve.CustomPermissionName.PROFILE_PHOTO)?r.a.createElement(x.a,{primary:'"Profile Photo" permission not granted.',className:s.red,key:"avatar-error"}):null,r.a.createElement(It.a,{src:e.profilePhoto,className:s.profilePhoto,key:"avatar"})],function(){var t=i.hasRequestedPermissions&&!p(ve.CustomPermissionName.USER_NAME);return r.a.createElement(Te.a,{className:s.paper},r.a.createElement(_t.a,{subheader:"User Details"}),r.a.createElement(Oe.a,{variant:"outlined",disabled:!0,className:s.formInput,id:"input-name",error:i.isError||t,label:"Name",value:t?'"User Name" permission not granted.':e.userName||" "}))}(),function(){var t=i.hasRequestedPermissions&&!p(ve.CustomPermissionName.CONTACT_LIST);return r.a.createElement(Te.a,{className:s.paper},r.a.createElement(_t.a,{subheader:"Contact List"}),r.a.createElement(L.a,{className:s.contactsList},t&&r.a.createElement(I.a,null,r.a.createElement(x.a,{primary:'"Contacts" permission not granted.',className:s.red})),e.contactList&&e.contactList.map((function(e){return r.a.createElement(I.a,{divider:!0},r.a.createElement(xt.a,null,r.a.createElement(It.a,{className:s.contactIcon})),r.a.createElement(x.a,{primary:e.id,secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,null,e.name&&""!==e.name&&r.a.createElement("span",null,"Name: "+e.name)),r.a.createElement(S.a,null,e.email&&""!==e.email&&r.a.createElement("span",null,"Email: "+e.email)))}))}))))}())),r.a.createElement(we.a,{classes:{root:s.rootCardActions}},r.a.createElement(Ae.a,{column:"true",className:s.rootUserGroup},r.a.createElement("div",{className:s.wrapper},r.a.createElement(Ne.a,{onClick:d,variant:"contained",color:"primary",classes:{root:s.button},className:l,disabled:i.isLoading,"data-testid":"fetchUserButton"},"Fetch User Details"),i.isLoading&&r.a.createElement(Se.a,{size:20,className:s.buttonProgress})),i.isError&&r.a.createElement(S.a,{variant:"body1",className:s.error},"Error fetching the User Details")))))})),Ft=Object(c.a)((function(e){return{content:{height:"50%",justifyContent:"center",display:"flex",flexDirection:"column",alignItems:"center",fontSize:18,color:e.color.primary,fontWeight:"bold"},actions:{justifyContent:"center"},uuidNotFound:{width:200}}})),Wt=Object(l.b)((function(e,t){return Object(b.a)({},t,{uuid:e.uuid.uuid})}),(function(e){return{getSdkId:function(){return e((function(e){Ce.a.getUniqueId().then((function(t){e({type:"SET_UUID",payload:t})})).catch((function(t){e({type:"UUID_FETCH_ERROR"})}))}))}}}))((function(e){var t,n=Ft();return r.a.createElement(ke,null,r.a.createElement(ye.a,{className:n.content},null!==(t=e.uuid)&&void 0!==t?t:"Not Available"),r.a.createElement(we.a,{className:n.actions},r.a.createElement(Ne.a,{"data-testid":"get-unique-id",variant:"contained",color:"primary",fullWidth:!0,onClick:e.getSdkId},"GET UNIQUE ID")))})),Mt=n(114),Bt=n.n(Mt),Ht=n(113),qt=n.n(Ht),zt=function(){var e=Object(a.useState)({isWatching:!1}),t=Object(m.a)(e,2),n=t[0],r=t[1];return[n,function(){return Ce.a.requestLocationPermission("We would like to display the location of your device.").then((function(){return navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,n=t.longitude,a=t.latitude;r({isWatching:!0,location:{latitude:a,longitude:n}})}),(function(e){throw e}),{enableHighAccuracy:!0})})).catch((function(e){return r({isWatching:!1,error:e})}))},function(){r({isWatching:!1})}]},Gt=Object(c.a)((function(e){return{content:{height:"50%",justifyContent:"center",display:"flex",flexDirection:"column",alignItems:"center",fontSize:18,color:e.color.primary,fontWeight:"bold"},locationContainer:{height:"70%",display:"flex",flexDirection:"column",justifyContent:"space-around","& div .label":{display:"inline",padding:".2em .6em .3em",fontSize:"75%",fontWeight:700,lineHeight:1,textAlign:"center",whiteSpace:"nowrap",verticalAlign:"baseline",borderRadius:".25em"}},actions:{justifyContent:"center"},button:{},disabled:{opacity:.5,color:"#fff !important",backgroundColor:"".concat(e.color.primary," !important")}}})),Kt=function(e){var t=Gt(),n=zt(),a=Object(m.a)(n,3),o=a[0],i=a[1],c=a[2];return r.a.createElement(ke,null,r.a.createElement(ye.a,{className:t.content},o.error&&r.a.createElement("div",null,"Error: ",o.error),o.location&&o.isWatching&&r.a.createElement("div",{className:t.locationContainer,"data-testid":"location-container"},r.a.createElement("div",null,r.a.createElement("span",{className:"label"},"Longitude:"),o.location.longitude),r.a.createElement("div",null,r.a.createElement("span",{className:"label"},"Latitude:"),o.location.latitude))),r.a.createElement(we.a,{className:t.actions},r.a.createElement(Ne.a,{"data-testid":"turn-on",startIcon:r.a.createElement(qt.a,null),variant:"contained",color:"primary",disabled:o.isWatching,className:Object(E.a)(t.button,Object(u.a)({},t.disabled,o.isWatching)),onClick:i},"TURN ON"),r.a.createElement(Ne.a,{"data-testid":"turn-off",startIcon:r.a.createElement(Bt.a,null),variant:"contained",color:"primary",onClick:c,disabled:!o.isWatching,className:Object(E.a)(t.button,Object(u.a)({},t.disabled,!o.isWatching))},"TURN OFF")))},Qt=Object(c.a)((function(e){return{root:{height:300,width:"100%"},content:{height:"50%",justifyContent:"space-between",display:"flex",flexDirection:"column",alignItems:"center",fontSize:18,color:e.color.primary,fontWeight:"bold"}}})),Jt=function(){var e=Qt();return r.a.createElement(Pe.a,{className:e.root},r.a.createElement(ye.a,{className:e.content},r.a.createElement(Ne.a,{variant:"contained",color:"primary",onClick:function(){window.alert("This is window alert!")}},"Show Window Alert"),r.a.createElement(Ne.a,{variant:"contained",color:"primary",onClick:function(){window.confirm("This is window confirm!")}},"Show Window Confirm"),r.a.createElement(Ne.a,{variant:"contained",color:"primary",onClick:function(){window.prompt("This is window prompt!","sure!")}},"Show Window Prompt")))},Vt=[{icon:r.a.createElement($.a,null),label:"Home",navLink:"/landing",component:vt}],Yt=[{icon:r.a.createElement(he.a,null),label:"Local Storage",navLink:"/local_storage",component:St},{icon:r.a.createElement(J.a,null),label:"Fetch Unique ID from SDK",navLink:"/fetch_id",component:Wt},{icon:r.a.createElement(ie.a,null),label:"Device Location",navLink:"/device_location",component:Kt},{icon:r.a.createElement(be.a,null),label:"Auth token from Mobile",navLink:"/auth_token",component:He},{icon:r.a.createElement(de.a,null),label:"User Details",navLink:"/user_detail",component:Dt},{icon:r.a.createElement(K.a,null),label:"Message",navLink:"/chatbot",component:$e},{icon:r.a.createElement(se.a,null),label:"Fetch Credentials",navLink:"/fetch_credentials",component:it},{icon:r.a.createElement(ee.a,null),label:"Window Actions",navLink:"/window_actions",component:Jt},{icon:r.a.createElement(ne.a,null),label:"URI Schemes",navLink:"/uri_schemes",component:Lt},{icon:r.a.createElement(ue.a,null),label:"Media",navLink:"/media",component:Tt},{icon:r.a.createElement(fe.a,null),label:"Share",navLink:"/share",component:jt},{icon:r.a.createElement(re.a,null),label:"Ads",navLink:"/ads",component:xe},{icon:r.a.createElement(z.a,null),label:"File Upload",navLink:"/file_upload",component:ft},{icon:r.a.createElement(Y.a,null),label:"GIF's & WebP",navLink:"/gifs",component:gt}],Xt=Vt.concat(Yt.sort((function(e,t){return e.label.localeCompare(t.label)}))),$t=Object(c.a)((function(e){return{mainContent:{width:"100%",height:"calc(100% - 64px)"},mainContentMobile:{height:"calc(100% - 56px)"},wrapperContainer:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},drawerClosed:{width:"100% !important",marginLeft:"0 !important"},drawerOpen:{width:"calc(100% - ".concat("250px",")"),marginLeft:"250px",transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},drawerOpenShrink:{width:"calc(100% - ".concat("70px",")"),marginLeft:"70px",transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})}}})),Zt=function(e){var t,n=$t(),o=Object(d.a)(),i=Object(p.a)(o.breakpoints.down("xs")),c=Object(a.useState)(!1),s=Object(m.a)(c,2),l=s[0],b=s[1],v=Object(a.useState)(!i),C=Object(m.a)(v,2),y=C[0],S=C[1];Object(a.useEffect)((function(){S(!i)}),[i]);return r.a.createElement(h.a,null,r.a.createElement(H,{showDrawer:y,onDrawerToggle:function(e){S(e)},onShrinkToggle:function(e){b(e)},navItems:Xt}),r.a.createElement("main",{"data-testid":"homepage-main-content",className:Object(E.a)(n.mainContent,(t={},Object(u.a)(t,n.mainContentMobile,i),Object(u.a)(t,n.drawerOpen,!i&&y),Object(u.a)(t,n.drawerClosed,!i&&!y),Object(u.a)(t,n.drawerOpenShrink,!i&&l),t))},r.a.createElement(f.a,{className:n.wrapperContainer},r.a.createElement(g.c,null,Xt.map((function(e){var t;return r.a.createElement(g.a,{key:e.navLink,path:e.navLink,exact:!0,component:null!==(t=e.component)&&void 0!==t?t:function(){return r.a.createElement("div",{"data-testid":"nav-routes",style:{fontSize:"32px",textAlign:"center"}},e.label)}})})),r.a.createElement(g.a,{path:"*",component:Xt[0].component})))))},en=n(41),tn=n(130),nn={messageTypes:[{id:1,name:"Send a message to a single contact"}]},an={title:"POC"},rn=[],on=Object(en.c)({userName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_USER_NAME_SUCCESS":return t.userName;default:return e}},profilePhoto:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_PROFILE_PHOTO_SUCCESS":return t.url;default:return e}},contactList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_CONTACT_LIST_SUCCESS":return t.contacts;default:return e}},accessToken:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_ACCESS_TOKEN_SUCCESS":return t.token;default:return e}}}),cn={uuid:void 0},sn=Object(en.c)({message:function(e,t){return"GET_MESSAGE_TYPE"===t.type?Object(b.a)({},e,{messageTypes:t.payload}):nn},home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an,t=arguments.length>1?arguments[1]:void 0;return void 0!==t&&"SET_CURRENT_PAGE_TITLE"===t.type?Object(b.a)({},e,{title:t.payload}):e},permissions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_PERMISSIONS_SUCCESS":return t.permissions.filter((function(e){return e.status===ve.CustomPermissionStatus.ALLOWED})).map((function(e){return e.name}));default:return e}},user:on,uuid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"SET_UUID"===t.type?Object(b.a)({},cn,{uuid:t.payload}):"UUID_FETCH_ERROR"===t.type?{uuid:void 0}:e}}),ln=Object(en.d)(sn,Object(en.a)(tn.a)),un=n(131),mn=n(74),dn=Object(un.a)({palette:{primary:{main:"#bf0000"},secondary:mn.a},color:{primary:"#bf0000",secondary:"lightgrey"}}),pn=Object(c.a)((function(e){return{App:{width:"100%",textAlign:"center"}}}));var fn=function(){var e=pn();return r.a.createElement(l.a,{store:ln},r.a.createElement(s.a,{theme:dn},r.a.createElement("div",{className:e.App},r.a.createElement(Zt,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(fn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,n){e.exports=function(){var e={};Object.defineProperty(e,"__esModule",{value:!0}),e.AccessTokenData=function(e){this.token=e.token,this.validUntil=new Date(e.validUntil),this.scopes=new t(e.scopes)};var t=function(e){this.audience=e.audience,this.scopes=e.scopes};Object.defineProperty({},"__esModule",{value:!0});var n=[];function a(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}!function(){function t(e){this.executor=e,this.platform=e.getPlatform()}t.prototype.execSuccessCallback=function(e,t){var r=n.filter((function(t){return t.id===e}))[0];t?r.onSuccess(t):r.onError("Unknown Error"),a(r)},t.prototype.execErrorCallback=function(e,t){var r=n.filter((function(t){return t.id===e}))[0];t||(t="Unknown Error"),r.onError(t),a(r)},t.prototype.getUniqueId=function(){var e=this;return new Promise((function(t,n){return e.executor.exec("getUniqueId",null,(function(e){return t(e)}),(function(e){return n(e)}))}))},t.prototype.requestPermission=function(e){var t=this;return new Promise((function(n,a){return t.executor.exec("requestPermission",{permission:e},(function(e){return n(e)}),(function(e){return a(e)}))}))},t.prototype.showInterstitialAd=function(e){var t=this;return new Promise((function(n,a){return t.executor.exec("showAd",{adType:0,adUnitId:e},(function(e){return n(e)}),(function(e){return a(e)}))}))},t.prototype.loadInterstitialAd=function(e){var t=this;return new Promise((function(n,a){return t.executor.exec("loadAd",{adType:0,adUnitId:e},(function(e){return n(e)}),(function(e){return a(e)}))}))},t.prototype.loadRewardedAd=function(e){var t=this;return new Promise((function(n,a){return t.executor.exec("loadAd",{adType:1,adUnitId:e},(function(e){return n(e)}),(function(e){return a(e)}))}))},t.prototype.showRewardedAd=function(e){var t=this;return new Promise((function(n,a){return t.executor.exec("showAd",{adType:1,adUnitId:e},(function(e){return n(JSON.parse(e))}),(function(e){return a(e)}))}))},t.prototype.requestCustomPermissions=function(e){var t=this;return new Promise((function(n,a){return t.executor.exec("requestCustomPermissions",{permissions:e},(function(e){return n(JSON.parse(e))}),(function(e){return a(e)}))}))},t.prototype.shareInfo=function(e){var t=this;return new Promise((function(n,a){return t.executor.exec("shareInfo",{shareInfo:e},(function(e){return n(e)}),(function(e){return a(e)}))}))},t.prototype.getUserName=function(){var e=this;return new Promise((function(t,n){return e.executor.exec("getUserName",null,(function(e){return t(e)}),(function(e){return n(e)}))}))},t.prototype.getProfilePhoto=function(){var e=this;return new Promise((function(t,n){return e.executor.exec("getProfilePhoto",null,(function(e){return t(e)}),(function(e){return n(e)}))}))},t.prototype.getContacts=function(){var e=this;return new Promise((function(t,n){return e.executor.exec("getContacts",null,(function(e){return t(JSON.parse(e))}),(function(e){return n(e)}))}))},t.prototype.getAccessToken=function(t,n){var a=this;return new Promise((function(r,o){return a.executor.exec("getAccessToken",{audience:t,scopes:n},(function(t){var n=JSON.parse(t);r(new e.AccessTokenData(n))}),(function(e){return o(e)}))}))},t.prototype.setScreenOrientation=function(e){var t=this;return new Promise((function(n,a){return t.executor.exec("setScreenOrientation",{action:e},(function(e){return n(e)}),(function(e){return a(e)}))}))},t.prototype.sendMessageToContact=function(e){var t=this;return new Promise((function(n,a){return t.executor.exec("sendMessageToContact",{messageToContact:e},(function(e){return n(e)}),(function(e){return a(e)}))}))}}();var r={};Object.defineProperty(r,"__esModule",{value:!0}),(r.DevicePermission||(r.DevicePermission={})).LOCATION="location";var o,i,c={};Object.defineProperty(c,"__esModule",{value:!0}),(i=c.CustomPermissionName||(c.CustomPermissionName={})).USER_NAME="rakuten.miniapp.user.USER_NAME",i.PROFILE_PHOTO="rakuten.miniapp.user.PROFILE_PHOTO",i.CONTACT_LIST="rakuten.miniapp.user.CONTACT_LIST",i.ACCESS_TOKEN="rakuten.miniapp.user.ACCESS_TOKEN",i.LOCATION="rakuten.miniapp.device.LOCATION",(o=c.CustomPermissionStatus||(c.CustomPermissionStatus={})).ALLOWED="ALLOWED",o.DENIED="DENIED",o.PERMISSION_NOT_AVAILABLE="PERMISSION_NOT_AVAILABLE";var s,l={};Object.defineProperty(l,"__esModule",{value:!0}),(s=l.ScreenOrientation||(l.ScreenOrientation={})).LOCK_PORTRAIT="rakuten.miniapp.screen.LOCK_PORTRAIT",s.LOCK_LANDSCAPE="rakuten.miniapp.screen.LOCK_LANDSCAPE",s.LOCK_RELEASE="rakuten.miniapp.screen.LOCK_RELEASE";var u={};Object.defineProperty(u,"__esModule",{value:!0}),u.DevicePermission=r.DevicePermission,u.CustomPermissionName=c.CustomPermissionName,u.CustomPermissionStatus=c.CustomPermissionStatus,u.ScreenOrientation=l.ScreenOrientation,u.AccessTokenData=e.AccessTokenData;var m={};Object.defineProperty(m,"__esModule",{value:!0}),m.getBridge=function(){return window.MiniAppBridge};var d={};Object.defineProperty(d,"__esModule",{value:!0});var p=function(){function e(){}return e.prototype.getUserName=function(){return m.getBridge().getUserName()},e.prototype.getProfilePhoto=function(){return m.getBridge().getProfilePhoto()},e.prototype.getContacts=function(){return m.getBridge().getContacts()},e.prototype.getAccessToken=function(e,t){return m.getBridge().getAccessToken(e,t)},e}();d.UserInfo=p;var f={};Object.defineProperty(f,"__esModule",{value:!0});var E=function(){function e(){}return e.prototype.sendMessageToContact=function(e){return m.getBridge().sendMessageToContact(e)},e}();f.ChatService=E;var h={};Object.defineProperty(h,"__esModule",{value:!0});var g=function(){function e(){this.user=new d.UserInfo,this.chatService=new f.ChatService}return e.prototype.requestPermission=function(e){return m.getBridge().requestPermission(e)},e.prototype.getUniqueId=function(){return m.getBridge().getUniqueId()},e.prototype.requestLocationPermission=function(e){var t=this;void 0===e&&(e="");var n=[{name:u.CustomPermissionName.LOCATION,description:e}];return this.requestCustomPermissions(n).then((function(e){return e.find((function(e){return e.status===u.CustomPermissionStatus.ALLOWED||e.status===u.CustomPermissionStatus.PERMISSION_NOT_AVAILABLE}))})).catch((function(e){return"string"==typeof e&&e.startsWith("invalidCustomPermissionsList")?Promise.resolve(!0):Promise.reject(e)})).then((function(e){return e?t.requestPermission(u.DevicePermission.LOCATION):Promise.reject("User denied location permission to this mini app.")}))},e.prototype.requestCustomPermissions=function(e){return m.getBridge().requestCustomPermissions(e).then((function(e){return e.permissions}))},e.prototype.loadInterstitialAd=function(e){return m.getBridge().loadInterstitialAd(e)},e.prototype.loadRewardedAd=function(e){return m.getBridge().loadRewardedAd(e)},e.prototype.showInterstitialAd=function(e){return m.getBridge().showInterstitialAd(e)},e.prototype.showRewardedAd=function(e){return m.getBridge().showRewardedAd(e)},e.prototype.shareInfo=function(e){return m.getBridge().shareInfo(e)},e.prototype.getPlatform=function(){var e="Unknown";try{e=m.getBridge().platform}catch(t){}return e},e.prototype.setScreenOrientation=function(e){return m.getBridge().setScreenOrientation(e)},e}();h.MiniApp=g;var b={};Object.defineProperty(b,"__esModule",{value:!0}),b.CustomPermissionName=u.CustomPermissionName,b.CustomPermissionStatus=u.CustomPermissionStatus,b.ScreenOrientation=u.ScreenOrientation,b.AccessTokenData=u.AccessTokenData;var v=new h.MiniApp;return b.default=v,b}()}},[[144,1,2]]]);
//# sourceMappingURL=main.c0fbe605.chunk.js.map